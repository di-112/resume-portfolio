window.addEventListener("load",windowLoadHandler,!1);let sphereRad=280,scale=1;function windowLoadHandler(){canvasApp()}function canvasApp(){let e=document.getElementById("sphere"),t=document.getElementById("sphere-wrap"),a=e.getContext("2d"),l,n,B,r,d,i,o,h,s,c,u,p,f,v,x,M,g,m,w,y,V,k,X,Y,T,b,j,I,C,P,R,z,Z,E,L,H,A;function S(){r=0,d=8,h=1,l=e.width=t.offsetWidth,n=e.height=t.offsetHeight,s=400,u=l/2,p=n/2,f=s-2,i={},o={},y=.1,V=.1,k=.1,X=-0,m=2.5,M=0,g=-3-sphereRad,w=-750,x=2*Math.PI/1200,v=0,B=setInterval(W,10/24)}function W(){if(0<=++r)for(r=0,z=0;z<d;z++){Z=2*Math.random()*Math.PI,E=Math.acos(2*Math.random()-1),L=sphereRad*Math.sin(E)*Math.cos(Z),H=sphereRad*Math.sin(E)*Math.sin(Z),A=sphereRad*Math.cos(E);var e=function(e,t,a,l,n,r){let d;null!=o.first?null!=(d=o.first).next?(o.first=d.next,d.next.prev=null):o.first=null:d={};null==i.first?((i.first=d).prev=null,d.next=null):(d.next=i.first,i.first.prev=d,(i.first=d).prev=null);d.x=e,d.y=t,d.z=a,d.velX=l,d.velY=n,d.velZ=r,d.age=0,d.dead=!1,Math.random()<.5?d.right=!0:d.right=!1;return d}(L,M+H,g+A,.002*L,.002*H,.002*A);e.attack=50,e.hold=50,e.decay=100,e.initValue=0,e.holdValue=h,e.lastValue=0,e.stuckTime=90+20*Math.random(),e.accelX=0,e.accelY=X,e.accelZ=0}for(v=(v+x)%(2*Math.PI),j=Math.sin(v),I=Math.cos(v),a.clearRect(0,0,l,n),Y=i.first;null!=Y;){var t;b=Y.next,Y.age++,Y.age>Y.stuckTime&&(Y.velX+=Y.accelX+y*(2*Math.random()-1),Y.velY+=Y.accelY+V*(2*Math.random()-1),Y.velZ+=Y.accelZ+k*(2*Math.random()-1),Y.x+=Y.velX,Y.y+=Y.velY,Y.z+=Y.velZ),C=I*Y.x+j*(Y.z-g),P=-j*Y.x+I*(Y.z-g)+g,c=scale*s/(s-P),Y.projX=C*c+u,Y.projY=Y.y*c+p,Y.age<Y.attack+Y.hold+Y.decay?Y.age<Y.attack?Y.alpha=(Y.holdValue-Y.initValue)/Y.attack*Y.age+Y.initValue:Y.age<Y.attack+Y.hold?Y.alpha=Y.holdValue:Y.age<Y.attack+Y.hold+Y.decay&&(Y.alpha=(Y.lastValue-Y.holdValue)/Y.decay*(Y.age-Y.attack-Y.hold)+Y.holdValue):Y.dead=!0,(T=Y.projX>l||Y.projX<0||Y.projY<0||Y.projY>n||P>f)||Y.dead?(t=void 0,t=Y,i.first==t?null!=t.next?(t.next.prev=null,i.first=t.next):i.first=null:null==t.next?t.prev.next=null:(t.prev.next=t.next,t.next.prev=t.prev),null==o.first?((o.first=t).prev=null,t.next=null):(t.next=o.first,o.first.prev=t,(o.first=t).prev=null)):(R=1<(R=1-P/w)?1:R<0?0:R,a.fillStyle="#08fdd8",a.beginPath(),a.arc(Y.projX,Y.projY,c*m,0,2*Math.PI,!1),a.closePath(),a.fill()),Y=b}}S(),window.addEventListener("resize",throttle(S,200),!1)}